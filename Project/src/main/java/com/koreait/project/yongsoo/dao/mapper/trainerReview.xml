<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.koreait.project.yongsoo.dao.TrainerReviewDao">
	
	<select id="getTrainerReviewList" parameterType="int" resultType="com.koreait.project.dto.ReviewDto">
		SELECT *
		  FROM REVIEW
		 WHERE TARGET_USER_NO = #{user_no}
	</select>
	<select id="listCount" parameterType="int" resultType="int">
		SELECT COUNT(*)
		  FROM REVIEW
		 WHERE TARGET_USER_NO = #{user_no}
	</select>
	
	
	<select id="findJoinMeetingList" resultType="com.koreait.project.dto.MeetingDto">
		SELECT * 
		  FROM MEETING
		 WHERE USER_NO = ${param1}
		   AND MEETING_NO IN (SELECT MEETING_NO
		 					   FROM MEETING_PARTICIPANTS
		 					  WHERE USER_NO = #{param2}
		 					    AND STATUS = 1)
		   AND MEETING_NO NOT IN (SELECT MEETING_NO
		   					        FROM REVIEW
		   					       WHERE TARGET_USER_NO = #{param1}
		   					         AND WRITER_USER_NO = #{param2})
	</select>
	
	
	
</mapper>